# 源码猩球拼团系统安装说明
---

## 运行环境

推荐：Linux ＋ Apache ＋ PHP ＋ Mysql （Apache可以替换成Nginx）

## 其他要求

- 微信支付：必须是认证服务号，同时通过微信认证的审核才可使用（微信认证：300元）

## 安装步骤

1. 解压源码包，将源码包放到Apache的web目录
2. 找到源码包的db.sql, 将其导入mysql，生成数据库
	创建数据库成功后，请记下以下信息，用户后续配置：
	
	1. mysql主机地址（一般是：127.0.0.1）
	2. mysql用户名
	3. mysql用户密码
	4. mysql端口号（一般是：3306）
	5. 拼团的数据库名（导入db.sql您所填写的数据库名字）

3. 修改源码里的数据库配置文件，文件路径：data/config.php，修改如下：
	
	```
	$config['db']['master']['host'] = "请填写：mysql主机地址";
	$config['db']['master']['username'] = "请填写：mysql用户名";
	$config['db']['master']['password'] = "请填写：mysql用户密码";
	$config['db']['master']['port'] = "请填写：mysql端口号";
	$config['db']['master']['database'] = "请填写：mysql拼团数据库名";
	```
4. 登陆拼团后台
	
	经过前面的设置后，系统已经可以跑起来了，现在需要进行微信信息的设置。
	
	根据服务器的域名（或IP），进入系统后台。
	
	后台的默认登陆帐号是：laoyufu, 密码是：123456。（登陆后可以修改）
	
5. 配置微信公众号

	进入后台后，请点击“添加公众号”按钮，根据提示填写公众号信息。
	（本系统支持多个公众号管理，您可以添加多个公众号）
	
6. 管理公众号

	添加公众号完成后，点击管理公众号，就可以进入当前公众号的管理后台。
	公众号后台，可以实现正常的公众号管理工作，可以参照“有赞”。
	
7. 拼团管理

	1. 点击顶部菜单里的“扩展功能“
	2. 点击左边菜单里的“拼团”，进入拼团管理后台
	3. 点击“首页入口“，拷贝“直接URL“，作为拼团网站入口
		
		”直接URL“就是用户访问拼团的入口地址，可以放到菜单上。
	4. 点击左边菜单”默认“，进入拼团功能设置页面
	5. 点击左边菜单“参数设置”，设置拼团基本信息
	6. 点击左边菜单“地区运费“，设置省份和区域运费，并选择启用
	7. 点击左边菜单“分类管理”，添加新分类，最后选择显示
	8. 点击“商品管理”，添加测试商品，填写基本信息，选择上架			

8. 微信支付设置
	
	1. 点击顶部菜单里的“功能选项”
	2. 点击左边菜单的“支付参数”
	3. 找到“设置微信支付开关“，点击“开启”，填写微信支付信息
		
		注意：微信支付商户号 和 商户支付密钥(API密钥) 需要从微信后台查找。
		
		（之前没有设置过API密钥，可以拷贝后台生成的，到微信后台填入）
	4. 拷贝后台“JS API网页支付参数”里的”支付授权目录“，填写到“微信后台－微信支付－开发配置“里
		
		（支付授权目录的格式：http://域名/payment/wechat/）

9. 测试

	把拼团的首页地址，放到微信菜单，或直接在微信里打开，即可测试效果。
	
9. 成功！